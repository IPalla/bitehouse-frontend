<div *ngFor="let order of orders; index as i">
  <mat-card [ngStyle]="{ background: order.orderData.parsedStatus.color }">
    <mat-card-header>
      <mat-card-title>{{
        order.orderData.channelOrderDisplayId
      }}</mat-card-title>
      <mat-card-subtitle>{{
        order?.orderData?.payment?.amount !== undefined
          ? order.orderData.payment.amount / 100
          : 0
      }}</mat-card-subtitle>
      <div class="end-chips">
        <mat-chip [ngStyle]="{ background: 'white' }">{{
          order.orderData.parsedStatus.literal
        }}</mat-chip>
        <mat-chip
          [ngStyle]="{
            background: order.orderData.isDelayed ? 'red' : 'white'
          }"
        >
          {{ order.orderData.pickupTimeUpdated }}
        </mat-chip>
        <mat-chip [ngStyle]="{ background: 'white' }">
          {{ order.txt }}
        </mat-chip>
        <mat-chip
          [ngStyle]="{ background: '#E9D502' }"
          *ngIf="containsShakes(order)"
        >
          BATIDOS
        </mat-chip>
        <mat-chip
          [ngStyle]="{ background: '#E9D502' }"
          *ngIf="containsDrinks(order)"
        >
          BEBIDAS
        </mat-chip>
        <mat-chip
          [ngStyle]="{ background: '#E9D502' }"
          *ngIf="containsCakes(order)"
        >
          CAKES
        </mat-chip>
      </div>
      <mat-card-subtitle>{{
        order.orderData.deliveryAddress?.street
      }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-actions align="end">
      <button
        (click)="markAsInDelivery(order)"
        *ngIf="order.orderData.parsedStatus.pickup"
        mat-button
      >
        RECOGER
      </button>
      <button
        (click)="markAsDelivered(order)"
        *ngIf="order.orderData.parsedStatus.markAsDelivered"
        mat-button
      >
        ENTREGADO
      </button>
      <button
        (click)="navigateToDirection(order)"
        *ngIf="order.orderData.parsedStatus.spinner"
        mat-button
      >
        DIRECCIONES
      </button>
      <button (click)="openOrderDialogInfo(order)" mat-button>INFO</button>
    </mat-card-actions>
    <mat-card-footer>
      <mat-progress-bar
        *ngIf="order.orderData.parsedStatus.spinner"
        mode="indeterminate"
      ></mat-progress-bar>
    </mat-card-footer>
  </mat-card>
</div>
<!--
    
            <mat-chip [ngStyle]="{'background' : 'white'}">
                <img src="../../assets/uber_logo.png">
            </mat-chip>
-->
